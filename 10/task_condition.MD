### --- День 10: Прогулка на копытах ---

Вы все прибываете на Лавовую Производственную Фабрику, расположенную на парящем в небе острове. Пока остальные начинают осматривать огромный промышленный комплекс, вы чувствуете лёгкое касание носом у своей ноги и, опустив взгляд, обнаруживаете оленя в каске.

У оленя в копытах книга с названием "Гид по горным маршрутам Лавового Острова". Однако, когда вы открываете книгу, выясняется, что большая часть страниц обуглена лавой! Пока вы собираетесь спросить, чем можно помочь, олень приносит вам пустую топографическую карту окрестностей (входные данные задачи) и с воодушевлением смотрит на вас.

Возможно, вы можете помочь восстановить пропавшие маршруты для пеших прогулок?

Топографическая карта указывает высоту в каждой точке числами от 0 (самая низкая) до 9 (самая высокая). Например:
```
0123
1234
8765
9876
```


К
Судя по уцелевшим фрагментам книги, хороший пеший маршрут должен быть максимально длинным и иметь ровный, постепенный, восходящий уклон. Для практических целей это означает, что пеший маршрут — это любой путь, который начинается с высоты 0, заканчивается на высоте 9 и на каждом шаге высота возрастает ровно на 1 по сравнению с предыдущим шагом. Пешие маршруты никогда не включают диагональные шаги — можно двигаться только вверх, вниз, влево или вправо (с точки зрения карты).

Вы поднимаете взгляд от карты и замечаете, что олень уже начал собирать небольшую стопку карандашей, маркеров, линеек, циркулей, наклеек и другого снаряжения, которое может вам понадобиться для обновления карты маршрутами.

"Стартом маршрута" (trailhead) является любая позиция, с которой начинается один или несколько пеших маршрутов — в нашем случае, это всегда позиции с высотой 0. Собирая новые фрагменты страниц, вы выясняете, что "оценкой старта" (trailhead score) является количество позиций с высотой 9, достижимых с этого старта по пешим маршрутам.

В приведённом выше примере единственный стартовый пункт (угол слева сверху) имеет оценку 1, так как из него можно достичь только одну точку высотой 9 (ту, что внизу слева).

Следующий пример имеет старт с оценкой 2:


```
...0...
...1...
...2...
6543456
7.....7
8.....8
9.....9
```



(Точки `.` обозначают непроходимые клетки для упрощения примера; в вашей реальной карте их нет.)

Ещё один пример имеет старт с оценкой 4, так как с этого старта можно добраться до всех позиций с высотой 9, кроме той, что сразу слева от старта:



```
..90..9
...1.98
...2..7
6543456
765.987
876....
987....
```

В этой топографической карте есть два старта; у верхнего оценка 1, у нижнего — 2:

```
10..9..
2...8..
3...7..
4567654
...8..3
...9..2
.....01
```


Вот более крупный пример:

```
89010123
78121874
87430965
96549874
45678903
32019012
01329801
10456732
```

В этом большом примере есть 9 стартов. Рассматривая их в порядке чтения (слева направо, сверху вниз), их оценки равны 5, 6, 5, 3, 1, 3, 5, 3 и 5. Сложив эти оценки, получим сумму 36.

Олень радостно подносит транспортир и добавляет его к куче снаряжения. Какова сумма оценок всех стартовых точек (trailheads) на вашей топографической карте?

### --- Часть Вторая ---

Олень некоторое время изучает вашу карту пешеходных маршрутов, а затем, осознав нечто важное, исчезает на несколько минут и наконец возвращается с ещё одним чуть обгоревшим клочком бумаги.

На этом листе описан второй способ оценить стартовую точку маршрута (trailhead), называемый её "рейтингом" (rating). Рейтинг стартовой точки — это количество **различных** пеших маршрутов, начинающихся в этой точке.

Например:

```
.....0.
..4321.
..5..2.
..6543.
..7..4.
..8765.
..9....
```

В приведённой выше карте имеется единственная стартовая точка; её рейтинг равен 3, потому что из неё можно начать ровно три различных маршрута:

```
.....0.   .....0.   .....0.
..4321.   .....1.   .....1.
..5....   .....2.   .....2.
..6....   ..6543.   .....3.
..7....   ..7....   .....4.
..8....   ..8....   ..8765.
..9....   ..9....   ..9....
```


Вот карта, содержащая одну стартовую точку с рейтингом 13:

```
..90..9
...1.98
...2..7
6543456
765.987
876....
987....
```

Следующая карта содержит одну стартовую точку с рейтингом 227, так как существует 121 уникальный маршрут, ведущий к 9 на правой границе, и 106 маршрутов, ведущих к 9 в нижней части:

```
012345
123456
234567
345678
4.6789
56789.
```

Ниже снова приведён тот же крупный пример, что и раньше:

```
89010123
78121874
87430965
96549874
45678903
32019012
01329801
10456732
```

Рассматривая его стартовые точки по порядку чтения (слева направо, сверху вниз), их рейтинги равны 20, 24, 10, 4, 1, 4, 5, 8 и 5. Сумма всех рейтингов стартовых точек в этой большой топографической карте равна 81.

Вы не знаете как, но олень, похоже, смастерил крошечные флажки из зубочисток и кусочков бумаги и теперь использует их для отметки стартовых точек на вашей топографической карте. Вопрос: Какова сумма рейтингов всех стартовых точек (trailheads)?
