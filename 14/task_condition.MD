# --- День 14: Убежище в туалете ---

Один из Историков хочет воспользоваться туалетом, и, к счастью, вы знаете, что рядом с непосещённым местом в их списке есть туалет. Все быстро телепортируются прямо в холл Штаба Пасхального Кролика.

К несчастью, Штаб Пасхального Кролика, кажется, снова "улучшил" систему безопасности туалета после вашего последнего визита. Территория вокруг туалета кишит роботами!

Чтобы безопасно провести Историка к туалету, вам нужно предсказать, где будут находиться роботы в будущем. К счастью, все они движутся по плиточному полу прямолинейно и предсказуемо.

Вы составляете список (входные данные задачи), содержащий текущие позиции (p) и скорости (v) всех роботов, по одному роботу на строку. Например:

```
p=0,4 v=3,-3
p=6,3 v=-1,-3
p=10,3 v=-1,2
p=2,0 v=2,-1
p=0,0 v=1,3
p=3,0 v=-2,-2
p=7,6 v=-1,-3
p=3,0 v=-1,-2
p=9,3 v=2,3
p=7,3 v=-1,2
p=2,4 v=2,-3
p=9,5 v=-3,-3
```


Каждая позиция робота задаётся как `p=x,y`, где `x` — это расстояние от левой стены, а `y` — расстояние от верхней стены (вид сверху). Таким образом, позиция `p=0,0` означает, что робот находится в верхнем левом углу.

Скорость каждого робота задаётся как `v=x,y`, где `x` и `y` — это количество клеток, на которые робот перемещается за одну секунду. Положительное `x` означает движение вправо, а положительное `y` — вниз. Например, скорость `v=1,-2` означает, что за одну секунду робот перемещается на 1 клетку вправо и на 2 клетки вверх.

### Условия задачи

Роботы возле туалета находятся в пространстве размером 101 клетка в ширину и 103 клетки в высоту (вид сверху). Однако в данном примере роботы находятся в пространстве размером 11 клеток в ширину и 7 клеток в высоту.

Роботы умеют обходить друг друга (благодаря пружинам, выдвижным ногам и квадрокоптерам), поэтому они могут находиться на одной и той же клетке и не взаимодействовать друг с другом. Визуально количество роботов на каждой клетке в примере выглядит так:

```
1.12.......
...........
...........
......11.11
1.1........
.........1.
.......1...
```


### Телепортация

У роботов есть уникальная функция для максимальной безопасности туалета: телепортация. Если робот должен столкнуться с краем пространства, он телепортируется на противоположную сторону, фактически перемещаясь по замкнутому пространству. Вот что происходит с роботом с начальной позицией `p=2,4` и скоростью `v=2,-3` в течение первых нескольких секунд:

- **Начальное состояние:**
```
Initial state:
...........
...........
...........
...........
..1........
...........
...........

After 1 second:
...........
....1......
...........
...........
...........
...........
...........

After 2 seconds:
...........
...........
...........
...........
...........
......1....
...........

After 3 seconds:
...........
...........
........1..
...........
...........
...........
...........

After 4 seconds:
...........
...........
...........
...........
...........
...........
..........1

After 5 seconds:
...........
...........
...........
.1.........
...........
...........
...........
```


### Задача

Через 100 секунд предскажите, где окажутся роботы. В данном примере через 100 секунд количество роботов на каждой клетке выглядит так:

```
......2..1.
...........
1..........
.11........
.....1.....
...12......
.1....1....
```


Для определения самой безопасной области посчитайте количество роботов в каждом из четырёх квадрантов через 100 секунд. Роботы, находящиеся точно в центре (по горизонтали или вертикали), не учитываются. В приведённом примере квадранты содержат 1, 3, 4 и 1 робота. Перемножая их, получаем итоговый показатель безопасности: **12**.

```
..... 2..1.
..... .....
1.... .....
           
..... .....
...12 .....
.1... 1....
```

### Ваша задача

Смоделируйте движение роботов из вашего списка в пространстве размером 101 клетка в ширину и 103 клетки в высоту. Каков будет показатель безопасности через 100 секунд?

# --- Часть Вторая ---

Во время перерыва в туалет кто-то замечает, что эти роботы очень похожи на тех, которые были построены и использовались на Северном Полюсе. Если это тот же тип роботов, у них должно быть встроенное пасхальное яйцо: в очень редких случаях большинство роботов должны выстраиваться в рисунок рождественской ёлки.

**Какое минимальное количество секунд должно пройти, чтобы роботы выстроились в рисунок рождественской ёлки?**
